<div class="row" id="manage" style="margin-bottom:100px;">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="btn-group pull-right" style="margin-top:-8px;">
          <span class="btn btn-sm dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-calendar"></i><span class="hidden-xs"> Periode Rawat Jalan</span>
          </span>
          <ul class="dropdown-menu dropdown-menu-right">
            <li style="padding-left:5px;padding-right:5px;">
              <input type="text" id="periode_rawat_jalan" class="form-control periode_rawat_jalan" name="periode_rawat_jalan" required>
            </li>
            <li style="padding-left:5px;padding-right:5px;margin-top:5px;">
              <input type="text" id="periode_rawat_jalan_akhir" class="form-control periode_rawat_jalan" name="periode_rawat_jalan_akhir" required>
            </li>
            <li style="padding-left:5px;padding-right:5px;margin-top:5px;">
              <div id="submit_periode_rawat_jalan" class="btn btn-primary btn-block">Semua</div>
            </li>
            <li style="padding-left:5px;padding-right:5px;margin-top:5px;">
              <div id="belum_periode_rawat_jalan" class="btn btn-primary btn-block">Belum Diperiksa</div>
            </li>
            <li style="padding-left:5px;padding-right:5px;margin-top:5px;">
              <div id="selesai_periode_rawat_jalan" class="btn btn-primary btn-block">Selesai Diperiksa</div>
            </li>
            <li style="padding-left:5px;padding-right:5px;margin-top:5px;">
              <div id="lunas_periode_rawat_jalan" class="btn btn-primary btn-block">Sudah Bayar</div>
            </li>
          </ul>
        </div>
        <h3 class="panel-title">Kelola Pasien</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div id="notif"></div>
        </div>
        <div class="display">
          <div id="display">
  <div class="table-responsive no-margin">
    <table class="table table-striped no-padding dataTables" width="100%">
      <thead>
        <tr>
          <th style="white-space: nowrap;">No. RM</th>
          <th style="white-space: nowrap;">Nama Pasien</th>
          <th style="white-space: nowrap;">ID Kunjungan</th>
          <th style="white-space: nowrap;">Antrian</th>
          <th style="white-space: nowrap;">Poliklinik</th>
          <th style="white-space: nowrap;">Dokter</th>
          <th style="white-space: nowrap;">Penjamin</th>
          <th style="white-space: nowrap;">No. Asuransi</th>
          <th style="white-space: nowrap;">Tgl. Kunjungan</th>
          <th style="white-space: nowrap;">Stts. Periksa</th>
          <th style="white-space: nowrap;">Stts. Lanjut</th>
          <th style="white-space: nowrap;">Stts. Bayar</th>
        </tr>
      </thead>
      <tbody>
                <tr class="layanan_obat" data-no_rawat="2024/12/08/000001" data-no_rkm_medis="000001" data-nm_pasien="Vian">
          <td style="white-space: nowrap;">000001</td>
          <td style="white-space: nowrap;">Vian</td>
          <td style="white-space: nowrap;">2024/12/08/000001</td>
          <td style="white-space: nowrap;">001</td>
          <td style="white-space: nowrap;">Umum</td>
          <td style="white-space: nowrap;">dr. Ataaka Muhammad</td>
          <td style="white-space: nowrap;">Umum</td>
          <td style="white-space: nowrap;"></td>
          <td style="white-space: nowrap;">2024-12-08 16:57:37</td>
          <td style="white-space: nowrap;">Belum</td>
          <td style="white-space: nowrap;">Ralan</td>
          <td style="white-space: nowrap;">Sudah Bayar</td>
        </tr>
              </tbody>
    </table>
  </div>
</div>
<script type="text/javascript">
  $(".alert-dismissible").fadeTo(3000, 500).slideUp(500);
  $('.dataTables').DataTable({
    "order": [[ 3, "desc" ]],
    "pagingType": "full",
    "language": {
      "paginate": {
        "first": "&laquo;",
        "last": "&raquo;",
        "previous": "‹",
        "next":     "›"
      },
      "search": "",
      "searchPlaceholder": "Search..."
    },
    "lengthChange": false,
    "scrollX": true,
    dom: "<<'data-table-title'><'datatable-search'f>><'row'<'col-sm-12'tr>><<'pmd-datatable-pagination' l i p>>"
  });
  var t = $(".dataTables").DataTable().rows().count();
  $(".data-table-title").html('<h3 style="display:inline;float:left;margin-top:0;" class="hidden-xs">Total: ' + t + '</h3>');
</script>
<script type="text/javascript">
   $(function () {
       $('.tanggal').datetimepicker({
         format: 'YYYY-MM-DD',
         locale: 'id'
       });
   });
   $(function () {
       $('.jam').datetimepicker({
         format: 'HH:mm:ss',
         locale: 'id'
       });
   });
</script>
        </div>
        <div class="row">
          <div id="form_rincian">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="form-horizontal">
          <div class="form-group">
            <label for="" class="col-sm-3 control-label">No. Faktur</label>
            <div class="col-sm-9">
              <input type="text" name="kd_billing" class="form-control" value="RJ.08.12.2024.20.36.25" placeholder="Kode billing" readonly>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-3 control-label">Tanggal</label>
            <div class="col-sm-4">
              <input type="text" id="tgl_billing" name="tgl_billing" class="form-control tanggal" value="2024-12-08">
            </div>
            <label for="" class="col-sm-1 control-label">Jam</label>
            <div class="col-sm-4">
              <input type="text" id="jam_billing" name="jam_billing" class="form-control jam" value="20:36:25">
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-3 control-label">Id Rawat</label>
            <div class="col-sm-9">
              <input type="text" name="no_rawat" placeholder="ID Rawat Jalan" class="form-control" value="" readonly>
            </div>
          </div>
                  </div>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div id="layanan"></div>
    <div id="obat"></div>
    <div id="laboratorium"></div>
    <div id="radiologi"></div>
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="form-horizontal">
          <div class="form-group">
            <label for="id_pasien" class="col-sm-3 control-label">Nomor RM</label>
            <div class="col-sm-9">
              <input type="text" name="no_rkm_medis" class="form-control" placeholder="Nomor Rekam Medik" value="" readonly>
            </div>
          </div>
          <div class="form-group">
            <label for="nama_pasien" class="col-sm-3 control-label">Nama Pasien</label>
            <div class="col-sm-9">
              <input type="text" name="nm_pasien" class="form-control" placeholder="Nama pasien" value="" readonly>
            </div>
          </div>
          <div class="form-group">
            <label for="tgl_perawatan" class="col-sm-3 control-label">Jenis</label>
            <div class="col-sm-4">
              <input type="hidden" name="kd_jenis_prw" class="form-control" value="">
              <input type="text" name="nm_perawatan" id="nm_perawatan" class="form-control" placeholder="Nama tindakan/layanan/obat/BHP" value="" readonly>
              <input type="hidden" name="kat" class="form-control" value="">
            </div>
            <label for="pnd" class="col-sm-1 control-label">Biaya</label>
            <div class="col-sm-4">
              <input type="text" id="biaya" name="biaya" class="form-control" value="" readonly>
            </div>
          </div>
          <div class="form-group" id="provider">
            <label for="jenis" class="col-sm-3 control-label">Jenis Provider</label>
            <div class="col-sm-6">
              <select class="form-control" name="provider" id="pilih_provider">
                <option>Pilih provider</option>
                <option value="rawat_jl_dr">Dokter</option>
                <option value="rawat_jl_pr">Perawat</option>
                <option value="rawat_jl_drpr">Dokter & Perawat</option>
              </select>
            </div>
            <label for="" class="col-sm-1 control-label">Jml</label>
            <div class="col-sm-2">
              <input type="text" name="jml_tindakan" id="jml_tindakan" class="form-control" value="1">
            </div>
          </div>
          <div class="form-group" id="rawat_jl_dr">
            <label for="" class="col-sm-3 control-label">Nama Dokter</label>
            <div class="col-sm-6">
              <input type="text" name="nama_provider" id="nama_provider" class="form-control" value="">
              <ul class="list-group" id="kode_providerList" style="z-index:1000;position:absolute;width:100%;"></ul>
            </div>
            <label for="" class="col-sm-1 control-label">Kode</label>
            <div class="col-sm-2">
              <input type="text" name="kode_provider" id="kode_provider" class="form-control" value="">
            </div>
          </div>
          <div class="form-group" id="rawat_jl_pr">
            <label for="" class="col-sm-3 control-label">Nama Perawat</label>
            <div class="col-sm-6">
              <input type="text" name="nama_provider2" id="nama_provider2" class="form-control" value="">
              <ul class="list-group" id="kode_providerList2" style="z-index:1000;position:absolute;width:100%;"></ul>
            </div>
            <label for="" class="col-sm-1 control-label">Kode</label>
            <div class="col-sm-2">
              <input type="text" name="kode_provider2" id="kode_provider2" class="form-control" value="">
            </div>
          </div>
          <div class="form-group" id="aturan_pakai">
            <label class="col-md-3 control-label">Aturan Pakai</label>
            <div class="col-sm-6">
              <input type="text" class="form-control" name="aturan_pakai" id="aturan_pakai" value="">
              <ul class="list-group" id="aturan_pakaiList" style="z-index:1000;position:absolute;width:100%;"></ul>
            </div>
            <label for="" class="col-sm-1 control-label">Jml</label>
            <div class="col-sm-2">
              <input type="text" name="jml" id="jml" class="form-control" value="10">
            </div>
          </div>
          <div class="m-t-xl">
            <button type="button" name="button" class="btn btn-primary" id="simpan_rincian"><i class="fa fa-save"></i><span class="hidden-xs"> Masukkan Rincian</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $('input:text[name=aturan_pakai]').on('input',function(e){
    var baseURL = mlite.url + '/' + mlite.admin;
    var url    = baseURL + '/kasir_rawat_jalan/aturanpakai?t=' + mlite.token;
    var query = $('input:text[name=aturan_pakai]').val();
    if(query!="") {
        $.ajax({
             url: url,
             method:"POST",
             data:{query:query},
             success:function(data)
             {
                  $('#aturan_pakaiList').fadeIn();
                  $('#aturan_pakaiList').html(data);
             }
        });
    }
    $('#aturan_pakaiList').fadeIn();
  });

  $('#aturan_pakaiList').on('click', 'li', function(){
       $('input:text[name=aturan_pakai]').val($(this).text());
       $('#aturan_pakaiList').fadeOut();
  });
</script>
<script>
  $('input:text[name=nama_provider]').on('input',function(e){
    var baseURL = mlite.url + '/' + mlite.admin;
    var url    = baseURL + '/kasir_rawat_jalan/providerlist?t=' + mlite.token;
    var query = $('input:text[name=nama_provider]').val();
    if(query!="") {
        $.ajax({
             url: url,
             method:"POST",
             data:{query:query},
             success:function(data)
             {
                  $('#kode_providerList').fadeIn();
                  $('#kode_providerList').html(data);
             }
        });
    }
    $('#kode_providerList').fadeIn();
  });

  $('#kode_providerList').on('click', 'li', function(){
       $('#nama_provider').val($(this).text().split(': ')[1]);
       $('#kode_provider').val($(this).text().split(': ')[0]);
       var kode_provider = $('#kode_provider').val();
       $('#kode_providerList').fadeOut();
  });
</script>
<script>
  $('input:text[name=nama_provider2]').on('input',function(e){
    var baseURL = mlite.url + '/' + mlite.admin;
    var url    = baseURL + '/kasir_rawat_jalan/providerlist2?t=' + mlite.token;
    var query = $('input:text[name=nama_provider2]').val();
    if(query!="") {
        $.ajax({
             url: url,
             method:"POST",
             data:{query:query},
             success:function(data)
             {
                  $('#kode_providerList2').fadeIn();
                  $('#kode_providerList2').html(data);
             }
        });
    }
    $('#kode_providerList2').fadeIn();
  });

  $('#kode_providerList2').on('click', 'li', function(){
       $('#nama_provider2').val($(this).text().split(': ')[1]);
       $('#kode_provider2').val($(this).text().split(': ')[0]);
       var kode_provider2 = $('#kode_provider2').val();
       $('#kode_providerList2').fadeOut();
  });
</script>
<script>
  $(function() {
      $('#rawat_jl_dr').hide();
      $('#rawat_jl_pr').hide();
      $('#pilih_provider').change(function(){
          if($('#pilih_provider').val() == 'rawat_jl_dr') {
              $('#rawat_jl_dr').show();
              $('#rawat_jl_pr').hide();
          } else if($('#pilih_provider').val() == 'rawat_jl_pr') {
              $('#rawat_jl_dr').hide();
              $('#rawat_jl_pr').show();
          } else {
              $('#rawat_jl_dr').show();
              $('#rawat_jl_pr').show();
          }
      });
  });
</script>
        </div>
        <div>
          <div id="rincian"></div>
          <div id="soap"></div>
          <div id="sep"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
   $(function () {
       $('.periode_rawat_jalan').datetimepicker({
         defaultDate: '2024-12-08',
         format: 'YYYY-MM-DD',
         locale: 'id'
       });
   });
</script>
